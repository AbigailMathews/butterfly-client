<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--CSS stylesheet-->
    <link rel="stylesheet" href="stylesheet.css" alt="css styles">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    <title>Support Butterflies</title>
  </head>
  <body>


  <div class="container" >

    <header class="containerFlex">
    <h1 id ="header">We are with you.</h1>
    <!--how should I group these together?-->

    <figure>
    <img src="static/handwashing.svg" id="handwashing"/>
    <figcaption id="subheader">We will overcome COVID 19</figcaption>
    </figure>
    </header>

    <!--Best way to do the button so far!-->
    <div class="buttons">
    <!--use this as parent for flexbox-->

    <button id="Blue" class="btn btn-default" onclick="clickEmit('Blue')">
      <img src ="static/BlueButterfly.png" class="buttonSize" />
      <p>Nurse Strong </p>
    </button>


    <button id="Yellow" class="btn btn-default" onclick="clickEmit('Yellow')">
      <img src ="static/YellowButterfly.png" class="buttonSize" />
      <p>You got this </p>
    </button>


    <button id="Orange" class="btn btn-default" onclick="clickEmit('Orange')">
      <img src ="static/OrangeButterfly.png" class="buttonSize"/>
      <p>Essential Worker </p>
    </button>



    <button id="Pink" class="btn btn-default" onclick="clickEmit('Pink')">
      <img src ="static/PinkButterfly.png" class="buttonSize" />
      <p>Doctor Strong </p>
    </button>



    <button id="Purple" class="btn btn-default" onclick="clickEmit('Purple')" id="farRightBttn">
      <img src ="static/PurpleButterfly.png" class="buttonSize" />
      <p>Thank You </p>
    </button>
  <!--end button div-->
  </div>


    <!--end button group-->
    </div>


    <footer>
      <div class="container-fluid footer"></div>
    </footer>
    <!--end container div-->
  </div>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>


    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>

    <script>

      var socket = io("https://butterfly-server-api.herokuapp.com");

      var funcObj = {
        Purple: createPurpleButterflies,
        Blue: createBlueButterflies,
        Orange: createOrangeButterflies,
        Yellow: createYellowButterflies,
        Pink: createPinkButterflies
      }

      function clickEmit(callback) {
        socket.emit("butterfly", callback)
      };

      socket.on("butterfly", function(data){
        //console.log("Clients: ", funcObj[data])
        var callback = funcObj[data];
        callback()
      })

      function createBlueButterflies() {
        const BlueButton = document.getElementById("Blue");
        const newImg = document.createElement("img");
        newImg.setAttribute("src", "static/BlueButterfly.png");
        newImg.setAttribute("id", "BlueButterflies");
        BlueButton.appendChild(newImg);
        console.log("Blue: ", newImg);
      }
      function createYellowButterflies() {
        const YellowButton = document.getElementById("Yellow");
        const newImg = document.createElement("img");
        newImg.setAttribute("src", "static/YellowButterfly.png");
        newImg.setAttribute("id", "YellowButterflies");
        YellowButton.appendChild(newImg);
        console.log("Yellow: ", newImg);
      }
      function createOrangeButterflies() {
        const OrangeButton = document.getElementById("Orange");
        const newImg = document.createElement("img");
        newImg.setAttribute("src", "static/OrangeButterfly.png");
        newImg.setAttribute("id", "OrangeButterflies");
        OrangeButton.appendChild(newImg);
        console.log("Orange: ", newImg);
      }
      function createPinkButterflies() {
        const PinkButton = document.getElementById("Pink");
        const newImg = document.createElement("img");
        newImg.setAttribute("src", "static/PinkButterfly.png");
        newImg.setAttribute("id", "PinkButterflies");
        PinkButton.appendChild(newImg);
        console.log("Pink: ", newImg);
      }
      function createPurpleButterflies() {
        const PurpleButton = document.getElementById("Purple");
        const newImg = document.createElement("img");
        newImg.setAttribute("src", "static/PurpleButterfly.png");
        newImg.setAttribute("id", "PurpleButterflies");
        PurpleButton.appendChild(newImg);
        console.log("Purple: ", newImg);
      }
    </script>
  </body>
</html>
